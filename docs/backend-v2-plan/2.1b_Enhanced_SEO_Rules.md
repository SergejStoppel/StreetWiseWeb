### **Phase 2: The Modular Analysis Engine**

#### **Issue #2.1b: Enhanced SEO Rules (25+ Rules with Technical & Content Analysis)**

- **Problem:** Current SEO rules are limited and don't provide the comprehensive technical and content analysis that competitors offer for search engine optimization.
- **Goal/Benefit:** To implement 25+ comprehensive SEO rules covering technical SEO, on-page optimization, and content strategy with actionable recommendations and impact scoring.
- **Acceptance Requirements:**
    - [ ] 25+ SEO rules are implemented across technical, on-page, and content categories.
    - [ ] Each rule includes search engine impact scoring and ranking factors.
    - [ ] Business impact assessment for each SEO issue (traffic, conversions, visibility).
    - [ ] Technical implementation guidance with code examples.
    - [ ] Content strategy recommendations for editorial teams.
    - [ ] Competitive analysis suggestions where applicable.
    - [ ] Integration with major SEO tools and standards (Google Search Console, Schema.org).

---

## **Comprehensive SEO Rules List**

### **Technical SEO Foundation (10 rules)**

| rule_key | name | Impact Level | Business Risk | Primary Benefit |
|----------|------|--------------|---------------|-----------------|
| `SEO_TEC_01_ROBOTS_TXT_MISSING` | robots.txt File Missing | High | Medium | Crawl Control |
| `SEO_TEC_02_ROBOTS_TXT_ERRORS` | robots.txt Syntax Errors | High | High | Crawl Access |
| `SEO_TEC_03_SITEMAP_MISSING` | XML Sitemap Missing | High | High | Discovery |
| `SEO_TEC_04_SITEMAP_ERRORS` | XML Sitemap Errors | Medium | Medium | Index Coverage |
| `SEO_TEC_05_CANONICAL_MISSING` | Canonical Tag Missing | Critical | High | Duplicate Content |
| `SEO_TEC_06_CANONICAL_SELF_REFERENCE` | Canonical Self-Reference Missing | Medium | Medium | Authority Consolidation |
| `SEO_TEC_07_HTTPS_MISSING` | HTTPS Not Implemented | Critical | High | Security & Rankings |
| `SEO_TEC_08_MOBILE_FRIENDLY` | Mobile-Friendly Issues | Critical | Critical | Mobile Rankings |
| `SEO_TEC_09_STRUCTURED_DATA_VALIDATION` | Invalid Structured Data | High | Medium | Rich Snippets |
| `SEO_TEC_10_HREFLANG_ERRORS` | Hreflang Implementation Errors | Medium | Medium | International SEO |

### **On-Page Content Optimization (8 rules)**

| rule_key | name | Impact Level | Business Risk | Primary Benefit |
|----------|------|--------------|---------------|-----------------|
| `SEO_CON_01_TITLE_TAG_MISSING` | Page Title Missing | Critical | Critical | Click-Through Rate |
| `SEO_CON_02_TITLE_TAG_LENGTH` | Title Tag Length Issues | High | High | SERP Display |
| `SEO_CON_03_TITLE_TAG_DUPLICATE` | Duplicate Title Tags | High | High | Content Uniqueness |
| `SEO_CON_04_META_DESC_MISSING` | Meta Description Missing | High | Medium | SERP Click-Through |
| `SEO_CON_05_META_DESC_LENGTH` | Meta Description Length Issues | Medium | Medium | SERP Optimization |
| `SEO_CON_06_META_DESC_DUPLICATE` | Duplicate Meta Descriptions | Medium | Medium | Content Uniqueness |
| `SEO_CON_07_H1_MISSING` | H1 Tag Missing | High | High | Content Structure |
| `SEO_CON_08_H1_DUPLICATE` | Duplicate H1 Tags | Medium | Medium | Content Hierarchy |

### **Content Quality & Structure (4 rules)**

| rule_key | name | Impact Level | Business Risk | Primary Benefit |
|----------|------|--------------|---------------|-----------------|
| `SEO_STR_01_CONTENT_LENGTH` | Insufficient Content Length | Medium | Medium | Content Authority |
| `SEO_STR_02_KEYWORD_DENSITY` | Keyword Over-Optimization | Medium | High | Natural Content |
| `SEO_STR_03_INTERNAL_LINKS` | Insufficient Internal Linking | Medium | Medium | Site Architecture |
| `SEO_STR_04_EXTERNAL_LINKS` | No External Links | Low | Low | Content Authority |

### **Structured Data & Rich Snippets (3 rules)**

| rule_key | name | Impact Level | Business Risk | Primary Benefit |
|----------|------|--------------|---------------|-----------------|
| `SEO_SCHEMA_01_ORGANIZATION` | Organization Schema Missing | Medium | Low | Brand Visibility |
| `SEO_SCHEMA_02_BREADCRUMB` | Breadcrumb Schema Missing | Low | Low | Navigation |
| `SEO_SCHEMA_03_ARTICLE` | Article Schema Missing | Medium | Low | Content Enhancement |

---

## **Detailed Rule Specifications**

### **Critical Technical SEO Rules**

#### **SEO_TEC_05_CANONICAL_MISSING**
```json
{
  "rule_key": "SEO_TEC_05_CANONICAL_MISSING",
  "name": "Canonical Tag Missing",
  "impact_level": "critical",
  "business_risk": "high",
  "plain_language_explanation": "Your page doesn't tell search engines which version is the main one, which can hurt your rankings.",
  "why_it_matters": "Without canonical tags, search engines may see duplicate content and split your page authority.",
  "business_impact": "Can result in 20-40% loss in organic traffic due to duplicate content penalties.",
  "solutions": [
    {
      "type": "diy",
      "title": "Add Canonical Tags",
      "technical_level": "beginner",
      "estimated_effort": "low",
      "steps": [
        "Add <link rel='canonical' href='[URL]'> to page <head>",
        "Use absolute URLs for canonical links",
        "Ensure canonical points to preferred page version"
      ],
      "code_examples": {
        "correct": "<link rel='canonical' href='https://example.com/page'>"
      }
    },
    {
      "type": "third_party",
      "title": "SEO Plugin Implementation",
      "tools_mentioned": ["Yoast SEO", "RankMath", "All in One SEO"],
      "description": "Most SEO plugins automatically handle canonical tags"
    }
  ],
  "testing": {
    "automated_tests": ["Check for <link rel='canonical'> in <head>"],
    "manual_tests": ["View page source and verify canonical URL"],
    "validation_criteria": "Canonical tag present and points to correct URL"
  }
}
```

#### **SEO_TEC_08_MOBILE_FRIENDLY**
```json
{
  "rule_key": "SEO_TEC_08_MOBILE_FRIENDLY",
  "name": "Mobile-Friendly Issues",
  "impact_level": "critical",
  "business_risk": "critical",
  "plain_language_explanation": "Your website doesn't work well on mobile devices, which hurts your Google rankings.",
  "why_it_matters": "Google uses mobile-first indexing, meaning mobile experience directly affects all your rankings.",
  "business_impact": "Non-mobile-friendly sites can see 50-70% drops in mobile search visibility.",
  "solutions": [
    {
      "type": "diy",
      "title": "Implement Responsive Design",
      "technical_level": "intermediate",
      "estimated_effort": "high",
      "steps": [
        "Add viewport meta tag",
        "Use CSS media queries for responsive layout",
        "Test on multiple devices and screen sizes",
        "Optimize touch elements for mobile use"
      ],
      "code_examples": {
        "correct": "<meta name='viewport' content='width=device-width, initial-scale=1'>"
      }
    }
  ],
  "testing": {
    "automated_tests": ["Google Mobile-Friendly Test", "Lighthouse mobile audit"],
    "manual_tests": ["Test on various mobile devices", "Check text readability without zooming"],
    "validation_criteria": "Passes Google Mobile-Friendly Test with no critical issues"
  }
}
```

### **Content Optimization Rules**

#### **SEO_CON_02_TITLE_TAG_LENGTH**
```json
{
  "rule_key": "SEO_CON_02_TITLE_TAG_LENGTH",
  "name": "Title Tag Length Issues",
  "impact_level": "high",
  "business_risk": "high",
  "plain_language_explanation": "Your page title is too long or too short, which affects how it appears in search results.",
  "why_it_matters": "Google typically displays 50-60 characters of title tags. Longer titles get cut off, shorter ones may not be descriptive enough.",
  "business_impact": "Poor title tags can reduce click-through rates by 20-30% from search results.",
  "optimal_range": "50-60 characters",
  "solutions": [
    {
      "type": "diy",
      "title": "Optimize Title Length",
      "technical_level": "beginner",
      "estimated_effort": "low",
      "steps": [
        "Keep titles between 50-60 characters",
        "Put important keywords near the beginning",
        "Make titles compelling and descriptive",
        "Include brand name at the end if space allows"
      ],
      "code_examples": {
        "incorrect": "<title>This is an extremely long title that will definitely be cut off in search results and won't display properly</title>",
        "correct": "<title>SEO Best Practices Guide - Your Brand</title>"
      }
    }
  ],
  "testing": {
    "automated_tests": ["Check title length with SERP preview tools"],
    "manual_tests": ["Preview how title appears in Google search results"],
    "validation_criteria": "Title length between 50-60 characters and displays properly in SERPs"
  }
}
```

---

## **Implementation Strategy**

### **SEO Impact Scoring System**

```typescript
interface SEOImpactScoring {
  trafficImpact: number; // 1-10 scale
  rankingFactor: 'primary' | 'secondary' | 'minor';
  implementationDifficulty: 'low' | 'medium' | 'high';
  businessPriority: 'critical' | 'high' | 'medium' | 'low';
  timeToImpact: 'immediate' | 'short-term' | 'long-term'; // days, weeks, months
}
```

### **Content Strategy Integration**

```typescript
interface ContentRecommendation {
  contentType: 'technical' | 'editorial' | 'structural';
  targetAudience: 'developers' | 'content_creators' | 'marketing';
  actionItems: string[];
  competitorAnalysis?: {
    topPerformers: string[];
    gapAnalysis: string[];
    opportunities: string[];
  };
}
```

### **Technical Implementation Examples**

```typescript
// SEO analysis service integration
export class SEOAnalyzer {
  async analyzeTechnicalSEO(html: string, url: string): Promise<SEOIssue[]> {
    const issues: SEOIssue[] = [];
    
    // Check canonical tag
    const canonicalTag = this.extractCanonicalTag(html);
    if (!canonicalTag) {
      issues.push(this.createIssue('SEO_TEC_05_CANONICAL_MISSING', {
        location: '<head>',
        recommendation: 'Add canonical tag to prevent duplicate content issues'
      }));
    }
    
    // Check mobile viewport
    const viewportTag = this.extractViewportTag(html);
    if (!this.isMobileFriendly(viewportTag)) {
      issues.push(this.createIssue('SEO_TEC_08_MOBILE_FRIENDLY', {
        location: '<head>',
        mobileIssues: this.detectMobileIssues(html)
      }));
    }
    
    return issues;
  }
  
  private createIssue(ruleKey: string, context: any): SEOIssue {
    const rule = this.getRuleDefinition(ruleKey);
    return {
      rule_key: ruleKey,
      severity: this.calculateSeverity(rule.impact_level, rule.business_risk),
      context,
      solutions: rule.solutions,
      testing: rule.testing,
      businessImpact: rule.business_impact
    };
  }
}
```

This comprehensive SEO rules implementation provides enterprise-level SEO analysis capabilities that help users understand both technical issues and content optimization opportunities, with clear prioritization based on business impact.