### **Phase 2: The Modular Analysis Engine**

#### **Issue #2.8: Implement Performance Worker: Core Web Vitals**

- **Problem:** Core Web Vitals (CWV) are a critical set of metrics Google uses to measure user experience and are a direct ranking factor.
- **Goal/Benefit:** To provide users with the same core performance metrics that Google uses, giving them a clear path to improving their ranking.
- **Acceptance Requirements:**
    - [ ] A `workers/performance/coreWebVitals.worker.ts` is created.
    - [ ] The worker uses the **Lighthouse API** (as a Node.js module) to programmatically run a performance audit on the target URL.
    - [ ] It extracts the key CWV metrics: Largest Contentful Paint (LCP), Cumulative Layout Shift (CLS), and Total Blocking Time (TBT).
    - [ ] It creates records in the `performance_issues` table based on the opportunities and diagnostics provided in the Lighthouse report.
    - [ ] The main scores (LCP, CLS, etc.) are saved to the `analyses` table to update the `performance_score`.
    - [ ] **Tests:** A unit test is written that mocks the Lighthouse module, providing a sample JSON report and verifying that it is correctly parsed and that the right issues are created.
- **Implementation Details:**
    - Install the `lighthouse` and `chrome-launcher` npm packages.
    - This worker will be the most resource-intensive and may need to be run on a separate queue or with lower concurrency to avoid system overload.